{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/defineProperty.js","components/SignIn.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","SignIn","props","useState","username","value1","setValue1","password","value2","setValue2","useEffect","fetch","method","headers","document","cookie","then","res","text","console","log","setShow","getElementById","addEventListener","e","data","formData","body","alert","show","className","id","onSubmit","preventDefault","FormData","encType","type","name","htmlFor","onChange","event","target","onClick","JSON","stringify","assign","status","error","Error","statusText","d","Date","setTime","getTime","expires","toUTCString","catch","err"],"mappings":"kIAAe,SAASA,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,MAAOA,EACPG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,E,wCCiIMQ,UA1If,SAAgBC,GAAQ,IAAD,EACMC,mBAAS,CAAEC,SAAU,KAD3B,mBACfC,EADe,KACPC,EADO,OAEMH,mBAAS,CAAEI,SAAU,KAF3B,mBAEfC,EAFe,KAEPC,EAFO,KA2GtB,OAvGAC,qBAAU,WACTC,MAAM,sCAAuC,CAC5CC,OAAQ,OACRC,QAAS,CACR,eAAgB,mBAChB,IAAOC,SAASC,UAGhBC,MAAK,SAAAC,GACLA,EAAIC,OAAOF,MAAK,SAAUE,GACzBC,QAAQC,IAAIF,GACA,OAARA,EACHhB,EAAMmB,SAAQ,GAGdF,QAAQC,IAAI,YAIhBN,SAASQ,eAAe,QAAQC,iBAAiB,YAAY,SAACC,GAC7D,IAAIC,EAAOD,EAAEE,SAEbf,MAAM,oCAAqC,CAC1CC,OAAQ,OACRe,KAAMF,IACJT,MAAK,SAAAC,GACPA,EAAIC,OAAOF,MAAK,SAACE,GAChBU,MAAMV,cAIP,IAwEIhB,EAAM2B,KACZ,qBAAKC,UAAU,aAAf,SACC,sBAAKA,UAAU,cAAf,UACC,8BACC,2CAED,uBAAMC,GAAG,OAAOC,SAnCJ,SAACR,GACfA,EAAES,iBAEa,IAAIC,SAASpB,SAASQ,eAAe,UAgChBa,QAAQ,sBAA1C,UACC,sBAAKL,UAAU,iBAAf,UACC,sBAAKC,GAAG,YAAR,UACC,uBAAOK,KAAK,OAAOL,GAAG,OAAOM,KAAK,SAClC,uBAAOC,QAAQ,OAAf,8BAED,sBAAKR,UAAU,WAAf,UACC,6CACA,uBAAOM,KAAK,OAAOC,KAAK,WAAW1C,MAAOU,EAAOD,SAAUmC,SApFtC,SAACC,GAAW,IAAD,EACbA,EAAMC,OAAtB9C,EAD6B,EAC7BA,MAAO0C,EADsB,EACtBA,KACf/B,EAAU,KAAG+B,EAAO1C,UAoFhB,sBAAKmC,UAAU,WAAf,UACC,6CACA,uBAAOM,KAAK,WAAWC,KAAK,WAAW1C,MAAOa,EAAOD,SAAUgC,SAnF1C,SAACC,GAAW,IAAD,EACbA,EAAMC,OAAtB9C,EAD6B,EAC7BA,MAAO0C,EADsB,EACtBA,KACf5B,EAAU,KAAG4B,EAAO1C,aAoFjB,sBAAKmC,UAAU,MAAf,UACC,wBAAQM,KAAK,SAAb,qBACA,wBAAQM,QAnFS,WACrB/B,MAAM,iCAAkC,CACvCC,OAAQ,OACRe,KAAMgB,KAAKC,UAAUhD,OAAOiD,OAAO,GAAIxC,EAAQG,IAC/CK,QAAS,CACR,eAAgB,sBAGhBG,MAAK,SAAAC,GACL,GAAmB,MAAfA,EAAI6B,OAUH,CACJ,IAAMC,EAAQ,IAAIC,MAAM/B,EAAI8B,OAI5B,MAHmB,MAAf9B,EAAI6B,QACPlB,MAAMX,EAAIgC,YAELF,EAdN7C,EAAMmB,SAAQ,GACd,IAAI6B,EAAI,IAAIC,KACZD,EAAEE,QAAQF,EAAEG,UAAa,QACzB,IAAIC,EAAU,WAAaJ,EAAEK,cAC7BtC,EAAIC,OAAOF,MAAK,SAAUE,GACzBJ,SAASC,OAAS,SAAWG,EAAO,IAAMoC,KAE3CnC,QAAQC,IAAI,iBAUboC,OAAM,SAAAC,GACNtC,QAAQ4B,MAAMU,OAuDZ,+BAKD","file":"static/js/4.d75fe079.chunk.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { useEffect, useState } from 'react';\r\nimport './SignIn.css';\r\n\r\nfunction SignIn(props) {\r\n\tconst [value1, setValue1] = useState({ username: '', });\r\n\tconst [value2, setValue2] = useState({ password: '', });\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch('http://192.168.0.14:3000/checklogin', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'lid': document.cookie\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tres.text().then(function (text) {\r\n\t\t\t\t\tconsole.log(text)\r\n\t\t\t\t\tif (text == 'Aaa') {\r\n\t\t\t\t\t\tprops.setShow(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tconsole.log('no');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\tdocument.getElementById('form').addEventListener('formdata', (e) => {\r\n\t\t\tlet data = e.formData;\r\n\t\t\t// submit the data via XHR\r\n\t\t\tfetch('http://192.168.0.14:3000/register', {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\tbody: data\r\n\t\t\t}).then(res => {\r\n\t\t\t\tres.text().then((text) => {\r\n\t\t\t\t\talert(text)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t});\r\n\t}, [])\r\n\r\n\tconst handleInputChange1 = (event) => {\r\n\t\tconst { value, name } = event.target;\r\n\t\tsetValue1({ [name]: value });\r\n\t}\r\n\r\n\tconst handleInputChange2 = (event) => {\r\n\t\tconst { value, name } = event.target;\r\n\t\tsetValue2({ [name]: value });\r\n\t}\r\n\r\n\tconst signInHandler = () => {\r\n\t\tfetch('http://192.168.0.14:3000/login', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(Object.assign({}, value1, value2)),\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif (res.status === 200) {\r\n\t\t\t\t\tprops.setShow(false);\r\n\t\t\t\t\tvar d = new Date();\r\n\t\t\t\t\td.setTime(d.getTime() + (3 * 24 * 60 * 60 * 1000));\r\n\t\t\t\t\tvar expires = \"expires=\" + d.toUTCString();\r\n\t\t\t\t\tres.text().then(function (text) {\r\n\t\t\t\t\t\tdocument.cookie = \"lid = \" + text + \";\" + expires;\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconsole.log(\"Successful\")\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tconst error = new Error(res.error);\r\n\t\t\t\t\tif (res.status === 400) {\r\n\t\t\t\t\t\talert(res.statusText)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthrow error;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t});\r\n\t}\r\n\tconst submit = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// construct a FormData object, which fires the formdata event\r\n\t\tlet formdata = new FormData(document.getElementById('form'));\r\n\t}\r\n\r\n\tconst signUpHandler = () => {\r\n\t\t// let file = document.getElementById('file').files[0]\r\n\t\tlet file = document.getElementById('form').formData\r\n\t\t// fetch('http://192.168.0.14:3000/register', {\r\n\t\t// \tmethod: 'POST',\r\n\t\t// \tbody: JSON.stringify(Object.assign({}, value1, value2)),\r\n\t\t// \theaders: {\r\n\t\t// \t\t'Content-Type': 'application/json'\r\n\t\t// \t}\r\n\t\t// }).then(res => {\r\n\t\t// \tres.text().then((text) => {\r\n\t\t// \t\talert(text)\r\n\t\t// \t})\r\n\t\t// }).catch((error) => {\r\n\t\t// \tif (error == 'TypeError: Failed to fetch') {\r\n\t\t// \t\talert('Try again later')\r\n\t\t// \t}\r\n\t\t// \telse {\r\n\t\t// \t\talert(error)\r\n\t\t// \t}\r\n\t\t// })\r\n\t}\r\n\r\n\treturn props.show ? (\r\n\t\t<div className=\"mainsignin\">\r\n\t\t\t<div className=\"innerSignIn\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>Sign Up</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<form id=\"form\" onSubmit={submit} encType=\"multipart/form-data\">\r\n\t\t\t\t\t<div className=\"inputcontainer\">\r\n\t\t\t\t\t\t<div id=\"imgupload\">\r\n\t\t\t\t\t\t\t<input type=\"file\" id=\"file\" name=\"file\" />\r\n\t\t\t\t\t\t\t<label htmlFor=\"file\">Profile Image</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"oneInput\">\r\n\t\t\t\t\t\t\t<label>Username</label>\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"username\" value={value1.username} onChange={handleInputChange1} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"oneInput\">\r\n\t\t\t\t\t\t\t<label>Password</label>\r\n\t\t\t\t\t\t\t<input type=\"password\" name=\"password\" value={value2.password} onChange={handleInputChange2} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<button type=\"submit\">Sign Up</button>\r\n\t\t\t\t\t\t<button onClick={signInHandler}>Log In</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t) : \"\";\r\n}\r\n\r\nexport default SignIn;"],"sourceRoot":""}